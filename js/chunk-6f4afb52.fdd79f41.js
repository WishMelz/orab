(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f4afb52"],{"02f4":function(t,e,a){var r=a("4588"),n=a("be13");t.exports=function(t){return function(e,a){var i,s,o=String(n(e)),c=r(a),l=o.length;return c<0||c>=l?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===l||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):i:t?o.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var r=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},"0bfb":function(t,e,a){"use strict";var r=a("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,a){"use strict";a("b0c5");var r=a("2aba"),n=a("32e9"),i=a("79e5"),s=a("be13"),o=a("2b4c"),c=a("520a"),l=o("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var p=o(t),f=!i(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),m=f?!i(function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[l]=function(){return a}),a[p](""),!e}):void 0;if(!f||!m||"replace"===t&&!u||"split"===t&&!d){var h=/./[p],g=a(s,p,""[t],function(t,e,a,r,n){return e.exec===c?f&&!n?{done:!0,value:h.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),b=g[0],v=g[1];r(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},2434:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"params"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("参数列表")])],1),a("el-card",[a("el-alert",{attrs:{title:"注意：只允许第三极分类设置相关参数",type:"warning","show-icon":""}}),a("el-row",[a("el-col",{attrs:{span:24}},[a("span",[t._v("选择商品分类：")]),a("el-cascader",{attrs:{options:t.categoryList,props:t.categoryProps},on:{change:t.handleChange},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)],1),a("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.isDis},on:{click:function(e){t.addDia=!0}}},[t._v("添加参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.manyData,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,function(e,r){return a("el-tag",{key:r,attrs:{closable:""}},[t._v(t._s(e))])}),e.row.inputVisible?a("el-input",{ref:"saveTagInput",attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:"scop.row.inputValue"}}):a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.alterParam(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态参数",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.isDis},on:{click:function(e){t.addDia=!0}}},[t._v("添加属性")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.manyData,border:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.alterParam(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"}},[t._v("删除")])]}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"many"==t.activeName?"添加参数":"添加属性",visible:t.addDia,width:"30%"},on:{"update:visible":function(e){t.addDia=e},close:t.addClose,closed:function(e){return t.diaClosed("addRef")}}},[a("el-form",{ref:"addRef",attrs:{model:t.addForm,rules:t.addRul}},[a("el-form-item",{attrs:{label:"many"==t.activeName?"添加参数":"添加属性",prop:"name"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDia=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addParams}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改",visible:t.alterDia,width:"30%"},on:{"update:visible":function(e){t.alterDia=e},close:t.alterClose}},[a("el-form",{ref:"alterRef",attrs:{model:t.alterForm,rules:t.alterRul}},[a("el-form-item",{attrs:{label:"many"==t.activeName?"修改参数":"修改属性",prop:"attr_name"}},[a("el-input",{model:{value:t.alterForm.attr_name,callback:function(e){t.$set(t.alterForm,"attr_name",e)},expression:"alterForm.attr_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.alterDia=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.alterPush}},[t._v("确 定")])],1)],1)],1)],1)},n=[],i=(a("7f7f"),a("28a5"),a("ac6a"),a("96cf"),a("3b8d")),s={data:function(){return{selectedCategory:[],categoryList:[],categoryProps:{label:"cat_name",value:"cat_id",children:"children",expandTrigger:"click"},activeName:"many",manyData:[],onlyData:[],addDia:!1,addForm:{name:""},addRul:{name:[{required:!0,message:"请输入名字",trigger:"blur"}]},alterDia:!1,alterForm:{attr_id:"",attr_name:""},alterRul:{attr_name:[{required:!0,message:"请输入名字",trigger:"blur"}]}}},methods:{getCateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories");case 2:e=t.sent,a=e.data,this.categoryList=a.data;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleChange:function(){3!=this.selectedCategory.length?this.selectedCategory=[]:this.getCateDataList()},getCateDataList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories/".concat(this.categoryId,"/attributes"),{params:{sel:this.activeName}});case 2:e=t.sent,a=e.data,console.log(a),a.data.forEach(function(t){var e=t.attr_vals.split(" ");t.attr_vals=e,t.inputVisible=!1,t.inputValue=""}),this.manyData=a.data;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),tabClick:function(){this.getCateDataList()},showInput:function(t){var e=this;t.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.inputValue.trim()){t.next=4;break}return e.inputValue="",e.inputVisible=!1,t.abrupt("return",!1);case 4:return e.inputValue.trim().length>0&&e.attr_vals.push(e.inputValue.trim()),e.inputValue="",e.inputVisible=!1,t.next=9,this.$http.put("categories/".concat(e.cat_id,"/attributes/").concat(e.attr_id),{attr_name:e.attr_name,attr_sel:e.attr_sel,attr_vals:e.attr_vals.join(" ")});case 9:if(a=t.sent,r=a.data,200==r.meta.status){t.next=13;break}return t.abrupt("return",this.$message.error("修改失败"));case 13:this.$message.success("修改成功");case 14:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),addClose:function(){this.$refs.addRef.resetFields()},addParams:function(){var t=this;this.$refs.addRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("categories/".concat(t.categoryId,"/attributes"),{attr_name:t.addForm.name,attr_sel:t.activeName});case 4:if(r=e.sent,n=r.data,201==n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("添加失败"));case 8:t.getCateDataList(),t.addDia=!1,t.$message.success("添加成功");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},alterClose:function(){this.$refs.alterRef.resetFields()},alterParam:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.alterDia=!0,t.next=3,this.$http.get("categories/".concat(this.categoryId,"/attributes/").concat(e.attr_id),{params:{attr_sel:e.attr_sel}});case 3:if(a=t.sent,r=a.data,200==r.meta.status){t.next=7;break}return t.abrupt("return",this.$message.error("参数获取失败"));case 7:this.alterForm=r.data;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),alterPush:function(){var t=this;this.$refs.alterRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.put("categories/".concat(t.categoryId,"/attributes/").concat(t.alterForm.attr_id),t.alterForm);case 4:if(r=e.sent,n=r.data,200==n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("修改失败"));case 8:t.alterDia=!1,t.$message.success("修改成功"),t.getCateDataList();case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},deleteData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.delete("categories/".concat(this.categoryId,"/attributes/").concat(e.attr_id));case 2:if(a=t.sent,r=a.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("删除失败"));case 6:this.$message.success("删除成功"),this.getCateDataList();case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getCateList()},computed:{isDis:function(){return 3!=this.selectedCategory.length},categoryId:function(){return 3==this.selectedCategory.length?this.selectedCategory[2]:null}}},o=s,c=(a("b40a"),a("2877")),l=Object(c["a"])(o,r,n,!1,null,null,null);e["default"]=l.exports},"28a5":function(t,e,a){"use strict";var r=a("aae3"),n=a("cb7c"),i=a("ebd6"),s=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,p=[].push,f="split",m="length",h="lastIndex",g=4294967295,b=!u(function(){RegExp(g,"y")});a("214f")("split",2,function(t,e,a,u){var v;return v="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[m]||2!="ab"[f](/(?:ab)*/)[m]||4!="."[f](/(.?)(.?)/)[m]||"."[f](/()()/)[m]>1||""[f](/.?/)[m]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(n,t,e);var i,s,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?g:e>>>0,b=new RegExp(t.source,u+"g");while(i=l.call(b,n)){if(s=b[h],s>d&&(c.push(n.slice(d,i.index)),i[m]>1&&i.index<n[m]&&p.apply(c,i.slice(1)),o=i[0][m],d=s,c[m]>=f))break;b[h]===i.index&&b[h]++}return d===n[m]?!o&&b.test("")||c.push(""):c.push(n.slice(d)),c[m]>f?c.slice(0,f):c}:"0"[f](void 0,0)[m]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,r){var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n,r):v.call(String(n),a,r)},function(t,e){var r=u(v,t,this,e,v!==a);if(r.done)return r.value;var l=n(t),p=String(this),f=i(l,RegExp),m=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new f(b?l:"^(?:"+l.source+")",h),x=void 0===e?g:e>>>0;if(0===x)return[];if(0===p.length)return null===c(y,p)?[p]:[];var w=0,_=0,k=[];while(_<p.length){y.lastIndex=b?_:0;var C,R=c(y,b?p:p.slice(_));if(null===R||(C=d(o(y.lastIndex+(b?0:_)),p.length))===w)_=s(p,_,m);else{if(k.push(p.slice(w,_)),k.length===x)return k;for(var L=1;L<=R.length-1;L++)if(k.push(R[L]),k.length===x)return k;_=w=C}}return k.push(p.slice(w)),k}]})},"520a":function(t,e,a){"use strict";var r=a("0bfb"),n=RegExp.prototype.exec,i=String.prototype.replace,s=n,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[o]||0!==e[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(t){var e,a,s,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(e=d[o]),s=n.call(d,t),c&&s&&(d[o]=d.global?s.index+s[0].length:e),l&&s&&s.length>1&&i.call(s[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s}),t.exports=s},"5f1b":function(t,e,a){"use strict";var r=a("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},6486:function(t,e,a){},"7f7f":function(t,e,a){var r=a("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in n||a("9e1e")&&r(n,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},aae3:function(t,e,a){var r=a("d3f4"),n=a("2d95"),i=a("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},ac6a:function(t,e,a){for(var r=a("cadf"),n=a("0d58"),i=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(f),h=0;h<m.length;h++){var g,b=m[h],v=f[b],y=s[b],x=y&&y.prototype;if(x&&(x[u]||o(x,u,p),x[d]||o(x,d,b),c[b]=p,v))for(g in r)x[g]||i(x,g,r[g],!0)}},b0c5:function(t,e,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b40a:function(t,e,a){"use strict";var r=a("6486"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-6f4afb52.fdd79f41.js.map